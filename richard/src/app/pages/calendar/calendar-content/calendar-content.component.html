<div class="bg-gray-100 flex items-center justify-center h-screen">
  <div class="lg:w-7/12 md:w-9/12 sm:w-10/12 mx-auto p-4">
    <div class="bg-white shadow-lg rounded-lg overflow-hidden">
      <div class="flex items-center justify-between px-6 py-3 bg-gray-700">
        <button (click)="prevMonth()" class="text-white cursor-pointer">Previous</button>
        <h2 class="text-white">{{ currentMonthName }} {{ currentYear }}</h2>
        <button (click)="nextMonth()" class="text-white cursor-pointer">Next</button>
      </div>

      <div class="grid grid-cols-7 gap-2 p-4">
        <div *ngFor="let day of daysOfWeek" class="text-center font-semibold">{{ day }}</div>
        <div *ngFor="let empty of emptyDays" class=""></div>
        <div 
          *ngFor="let day of daysInMonth"
          class="relative flex items-center justify-center text-center py-2 border rounded-lg cursor-pointer transition-all duration-200"
          [ngClass]="{
            'bg-blue-500 text-white': isToday(day), 
            'text-gray-400 bg-gray-200 cursor-not-allowed': isPast(day) 
          }"
          (click)="!isPast(day) && openModal(day)"
        >
          {{ day }}
          <div *ngIf="hasEvent(day)" class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Botón flotante + -->
  <button 
    (click)="openModal()" 
    class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white text-2xl w-14 h-14 rounded-full shadow-lg flex items-center justify-center z-50 cursor-pointer"
    aria-label="Agregar evento"
    >
    +
  </button>



  <!-- MODAL OVERLAY -->
  <div *ngIf="isModalOpen" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white rounded-lg shadow-xl p-6 w-full max-w-2xl relative">
      <!-- Botón cerrar -->
      <button (click)="closeModal()" class="absolute top-2 right-2 text-gray-500 hover:text-gray-800">
        ✕
      </button>

      <!-- Modal Content -->
      <app-calendar-modal 
        [defaultDate]="selectedDate" 
        (eventSaved)="createEvent($event)">
      </app-calendar-modal>
    </div>
  </div>


</div>
